{"version":3,"file":"base.min.js","sources":["../src/base.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\r\n//\r\n// Moodle is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// Moodle is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU General Public License\r\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n/**\r\n * Base actions.\r\n *\r\n * @module     local_wsmanager/base\r\n * @copyright  2023 Lilia Smirnova <lilia.pro@protonmail.com>\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\ndefine([\r\n    'jquery',\r\n    'core/ajax',\r\n    'core/modal_factory',\r\n    'core/modal_events'\r\n], function (\r\n    jQuery,\r\n    ajax,\r\n    ModalFactory,\r\n    ModalEvents\r\n) {\r\n    return {\r\n        local_wsmanager_webservice_nav_title: function (webserviceid) {\r\n            ajax.call([{\r\n                methodname: 'local_wsmanager_webservice_nav_title',\r\n                args: {\r\n                    webserviceid: webserviceid\r\n                }\r\n            }])[0]\r\n                .then(function (response) {\r\n                    jQuery('#local_wsmanager_tab_link_webservice_' + webserviceid).html(response);\r\n                });\r\n        },\r\n        local_wsmanager_users_table_output: function (webserviceid) {\r\n            return ajax.call([{\r\n                methodname: 'local_wsmanager_webservice_users_table_output',\r\n                args: {\r\n                    webserviceid: webserviceid\r\n                }\r\n            }])[0]\r\n                .then(function (res) {\r\n                    jQuery('#local_wsmanager_webservice_users_table_' + webserviceid).html(res);\r\n                });\r\n        },\r\n        local_wsmanager_webservice_functions_get_params: function (webserviceid, functionname, sep1, sep2, sep3, sep4) {\r\n            var ret = '';\r\n            jQuery('[id*=\"local_wsmanager_ws_fn_param_' + webserviceid + '_' + functionname + '\"]').each(function () {\r\n                var $this = jQuery(this),\r\n                    arr = $this.attr('id').replace('local_wsmanager_ws_fn_param_' + webserviceid + '_' + functionname, '').split('_');\r\n                ret += webserviceid + sep1 + functionname + sep1 + arr[1] + sep1 + $this.val() + sep4;\r\n            });\r\n            return ret;\r\n        },\r\n        local_wsmanager_request_info: function (webserviceid, functionname, params, method, protocol, restformat, token) {\r\n            if (!method) {\r\n                method = jQuery('#local_wsmanager_external_function_handle_method_' + webserviceid + '_' +\r\n                    functionname + ' select').val();\r\n            }\r\n            if (!protocol) {\r\n                protocol = jQuery('#local_wsmanager_external_function_handle_protocol_' + webserviceid + '_' +\r\n                    functionname + ' select').val();\r\n            }\r\n            if (!restformat) {\r\n                restformat = jQuery('#local_wsmanager_external_function_handle_restformat_' + webserviceid + '_' +\r\n                    functionname + ' select').val();\r\n            }\r\n            if (!token) {\r\n                token = jQuery('#local_wsmanager_external_function_handle_token_' + webserviceid + '_' + functionname +\r\n                    ' select option:selected').text();\r\n            }\r\n            ajax.call([{\r\n                methodname: 'local_wsmanager_request_info',\r\n                args: {\r\n                    webserviceid: webserviceid,\r\n                    functionname: functionname,\r\n                    params: params,\r\n                    method: method,\r\n                    protocol: protocol,\r\n                    restformat: restformat,\r\n                    token: token\r\n                }\r\n            }])[0]\r\n                .then(function (res) {\r\n                    jQuery('#local_wsmanager_request_info_' + webserviceid + '_' + functionname).html(res);\r\n                });\r\n        },\r\n        local_wsmanager_external_function_handle_output: function (functionname, webserviceid) {\r\n            return ajax.call([{\r\n                methodname: 'local_wsmanager_external_function_handle_output',\r\n                args: {\r\n                    functionname: functionname,\r\n                    webserviceid: webserviceid\r\n                }\r\n            }])[0]\r\n                .then(function (res) {\r\n                    return res;\r\n                });\r\n        },\r\n        init: function (sep1, sep2, sep3, sep4) {\r\n            var ctx = this;\r\n            jQuery('body')\r\n                .on('change', '[data-switch=\"webservice\"]', function (event) {\r\n                    var $this = jQuery(this),\r\n                        webserviceid = parseInt($this.data('webserviceid')),\r\n                        instance = $this.data('instance'),\r\n                        name = $this.data('name');\r\n                    //disable\r\n                    if (!$this.is(':checked')) {\r\n                        ModalFactory.create({\r\n                            type: ModalFactory.types.SAVE_CANCEL,\r\n                            title: M.str.moodle.disable,\r\n                            body: M.str.moodle.disable + '<strong>' + name + '</strong><br>' + M.str.moodle.areyousure\r\n                        })\r\n                            .then(function (modal) {\r\n                                modal.setButtonText('save', M.str.moodle.disable);\r\n                                modal.getRoot().on(ModalEvents.save, function (e) {\r\n                                    e.preventDefault();\r\n                                    ajax.call([{\r\n                                        methodname: 'local_wsmanager_webservice_state_switch',\r\n                                        args: {\r\n                                            webserviceid: webserviceid,\r\n                                            instance: instance\r\n                                        }\r\n                                    }])[0]\r\n                                        .then(function (response) {\r\n                                            switch (instance) {\r\n                                                case 'restrictedusers':\r\n                                                    ctx.local_wsmanager_users_table_output(webserviceid);\r\n                                                    break;\r\n                                                case 'enabled':\r\n                                                    ctx.local_wsmanager_webservice_nav_title(webserviceid);\r\n                                                    jQuery('#local_wsmanager_webservice_row_' + webserviceid)\r\n                                                        .addClass('local_wsmanager_webservice_row_danger');\r\n                                                    jQuery('#local_wsmanager_webservice_name_' + webserviceid).attr('disabled', true);\r\n                                                    break;\r\n                                            }\r\n                                        });\r\n                                    modal.hide();\r\n                                });\r\n                                modal.getRoot().on(ModalEvents.cancel, function () {\r\n                                    $this.prop('checked', true);\r\n                                    modal.hide();\r\n                                });\r\n                                modal.show();\r\n                            });\r\n                    } else {\r\n                        //enable\r\n                        ajax.call([{\r\n                            methodname: 'local_wsmanager_webservice_state_switch',\r\n                            args: {\r\n                                webserviceid: webserviceid,\r\n                                instance: instance\r\n                            }\r\n                        }])[0]\r\n                            .then(function (response) {\r\n                                switch (instance) {\r\n                                    case 'restrictedusers':\r\n                                        ctx.local_wsmanager_users_table_output(webserviceid);\r\n                                        break;\r\n                                    case 'enabled':\r\n                                        ctx.local_wsmanager_webservice_nav_title(webserviceid);\r\n                                        jQuery('#local_wsmanager_webservice_row_' + webserviceid)\r\n                                            .removeClass('local_wsmanager_webservice_row_danger');\r\n                                        jQuery('#local_wsmanager_webservice_name_' + webserviceid).attr('disabled', false);\r\n                                        break;\r\n                                }\r\n                            });\r\n                    }\r\n                    return false;\r\n                })\r\n                .on('click', '.local_wsmanager_external_function_handle_wrapper', function (event) {\r\n                    var $this = jQuery(this),\r\n                        webserviceid = parseInt($this.data('webserviceid')),\r\n                        functionname = $this.data('functionname');\r\n                    event.preventDefault();\r\n                    ModalFactory.create({\r\n                        type: ModalFactory.types.DEFAULT,\r\n                        large: true,\r\n                        title: M.str.local_wsmanager.test,\r\n                        body: ctx.local_wsmanager_external_function_handle_output(\r\n                            functionname,\r\n                            webserviceid\r\n                        )\r\n                    }).then(function (modal) {\r\n                        modal.show();\r\n                    });\r\n                    return false;\r\n                })\r\n                .on('change', '.local_wsmanager_external_function_handle_select select', function (event) {\r\n                    var $this = jQuery(this),\r\n                        parent = $this.closest('.local_wsmanager_external_function_handle_select'),\r\n                        webserviceid = parseInt(parent.data('webserviceid')),\r\n                        functionname = parent.data('functionname'),\r\n                        params = ctx.local_wsmanager_webservice_functions_get_params(webserviceid, functionname, sep1, sep2, sep3, sep4),\r\n                        method = jQuery('#local_wsmanager_external_function_handle_method_' + webserviceid + '_' + functionname + ' select').val(),\r\n                        protocol = jQuery('#local_wsmanager_external_function_handle_protocol_' + webserviceid + '_' + functionname + ' select').val(),\r\n                        restformat = jQuery('#local_wsmanager_external_function_handle_restformat_' + webserviceid + '_' + functionname + ' select').val(),\r\n                        token = jQuery('#local_wsmanager_external_function_handle_token_' + webserviceid + '_' + functionname + ' select option:selected').text(),\r\n                        instance = parent.data('instance');\r\n                    switch (instance) {\r\n                        case 'protocol':\r\n                            if ($this.val() != 'rest') {\r\n                                jQuery('#local_wsmanager_external_function_handle_restformat_row_' + webserviceid + '_' + functionname).hide();\r\n                            } else {\r\n                                jQuery('#local_wsmanager_external_function_handle_restformat_row_' + webserviceid + '_' + functionname).show();\r\n                            }\r\n                            break;\r\n                    }\r\n                    return ctx.local_wsmanager_request_info(webserviceid, functionname, params, method, protocol, restformat, token);\r\n                })\r\n                .on('blur', '.local_wsmanager_webservice_function_param_value input,' +\r\n                    '.local_wsmanager_webservice_function_param_value textarea', function (event) {\r\n                    event.preventDefault();\r\n                    var $this = jQuery(this),\r\n                        parent = $this.closest('.local_wsmanager_webservice_function_param_value'),\r\n                        webserviceid = parseInt(parent.data('webserviceid')),\r\n                        functionname = parent.data('functionname'),\r\n                        params = ctx.local_wsmanager_webservice_functions_get_params(webserviceid, functionname, sep1, sep2, sep3, sep4),\r\n                        method = jQuery('#local_wsmanager_external_function_handle_method_' + webserviceid + '_' + functionname + ' select').val(),\r\n                        protocol = jQuery('#local_wsmanager_external_function_handle_protocol_' + webserviceid + '_' + functionname + ' select').val(),\r\n                        restformat = jQuery('#local_wsmanager_external_function_handle_restformat_' + webserviceid + '_' + functionname + ' select').val(),\r\n                        token = jQuery('#local_wsmanager_external_function_handle_token_' + webserviceid + '_' + functionname + ' select option:selected').text();\r\n                    return ctx.local_wsmanager_request_info(webserviceid, functionname, params, method, protocol, restformat, token);\r\n                })\r\n                .on('click', '.local_wsmanager_external_function_handle', function (event) {\r\n                    event.preventDefault();\r\n                    var $this = jQuery(this),\r\n                        webserviceid = parseInt($this.data('webserviceid')),\r\n                        functionname = $this.data('functionname'),\r\n                        token = jQuery('#local_wsmanager_external_function_handle_token_' + webserviceid + '_' +\r\n                            functionname + ' select option:selected').text(),\r\n                        params = ctx.local_wsmanager_webservice_functions_get_params(webserviceid, functionname, sep1, sep2, sep3, sep4),\r\n                        method = jQuery('#local_wsmanager_external_function_handle_method_' + webserviceid + '_' +\r\n                            functionname + ' select').val(),\r\n                        protocol = jQuery('#local_wsmanager_external_function_handle_protocol_' + webserviceid + '_' +\r\n                            functionname + ' select').val(),\r\n                        restformat = jQuery('#local_wsmanager_external_function_handle_restformat_' + webserviceid + '_' +\r\n                            functionname + ' select').val();\r\n                    ModalFactory.create({\r\n                        type: ModalFactory.types.SAVE_CANCEL,\r\n                        title: M.str.webservice.execute,\r\n                        body: M.str.webservice.execute + ' <strong>' + functionname + '</strong><br />' +\r\n                            M.str.moodle.areyousure\r\n                    }).then(function (modal) {\r\n                        modal.setButtonText('save', M.str.moodle.yes);\r\n                        modal.getRoot().on(ModalEvents.save, function (e) {\r\n                            e.preventDefault();\r\n                            ajax.call([{\r\n                                methodname: 'local_wsmanager_external_function_handle',\r\n                                args: {\r\n                                    webserviceid: webserviceid,\r\n                                    functionname: functionname,\r\n                                    token: token,\r\n                                    params: params,\r\n                                    method: method,\r\n                                    moodlewsprotocol: protocol,\r\n                                    moodlewsrestformat: restformat\r\n                                }\r\n                            }])[0]\r\n                                .then(function (res) {\r\n                                    jQuery('#local_wsmanager_external_function_handle_response_content_' + webserviceid + '_' + functionname).html(res);\r\n                                    jQuery('#local_wsmanager_external_function_handle_response_' + webserviceid + '_' + functionname).show();\r\n                                });\r\n                            modal.hide();\r\n                        });\r\n                        modal.getRoot().on(ModalEvents.cancel, function () {\r\n                            modal.hide();\r\n                        });\r\n                        modal.show();\r\n                    });\r\n                    return false;\r\n                })\r\n                .on('click', '.local_wsmanager_webservice_name_update', function (event) {\r\n                    event.preventDefault();\r\n                    var $this = jQuery(this),\r\n                        webserviceid = parseInt($this.data('webserviceid')),\r\n                        name = jQuery('#local_wsmanager_webservice_name_' + webserviceid).val();\r\n                    ajax.call([{\r\n                        methodname: 'local_wsmanager_webservice_rename',\r\n                        args: {\r\n                            webserviceid: webserviceid,\r\n                            name: name\r\n                        }\r\n                    }])[0]\r\n                        .then(function (res) {\r\n                            ModalFactory.create({\r\n                                type: ModalFactory.types.DEFAULT,\r\n                                title: M.str.moodle.summary,\r\n                                body: res ? M.str.moodle.success : M.str.moodle.error\r\n                            }).then(function (modal) {\r\n                                modal.getRoot().on(ModalEvents.cancel, function () {\r\n                                    modal.hide();\r\n                                });\r\n                                modal.show();\r\n                            });\r\n                            if (res) {\r\n                                jQuery('#local_wsmanager_tab_link_webservice_' + webserviceid).html(name);\r\n                            }\r\n                        });\r\n                    return false;\r\n                });\r\n        }\r\n    }\r\n});"],"names":["define","jQuery","ajax","ModalFactory","ModalEvents","local_wsmanager_webservice_nav_title","webserviceid","call","methodname","args","then","response","html","local_wsmanager_users_table_output","res","local_wsmanager_webservice_functions_get_params","functionname","sep1","sep2","sep3","sep4","ret","each","$this","this","arr","attr","replace","split","val","local_wsmanager_request_info","params","method","protocol","restformat","token","text","local_wsmanager_external_function_handle_output","init","ctx","on","event","parseInt","data","instance","name","is","removeClass","create","type","types","SAVE_CANCEL","title","M","str","moodle","disable","body","areyousure","modal","setButtonText","getRoot","save","e","preventDefault","addClass","hide","cancel","prop","show","DEFAULT","large","local_wsmanager","test","parent","closest","webservice","execute","yes","moodlewsprotocol","moodlewsrestformat","summary","success","error"],"mappings":"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"}