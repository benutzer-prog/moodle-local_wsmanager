{"version":3,"file":"base_mdl39.min.js","sources":["../src/base_mdl39.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\r\n//\r\n// Moodle is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// Moodle is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU General Public License\r\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n/**\r\n * Base actions for Moodle >=3.9 && <4.3.\r\n *\r\n * @module     local_wsmanager/base\r\n * @copyright  2023 Lilia Smirnova <lilia.pro@protonmail.com>\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\n\r\nimport {call as fetchMany} from 'core/ajax';\r\nimport ModalFactory from 'core/modal_factory';\r\nimport ModalEvents from 'core/modal_events';\r\nimport jQuery from 'jquery';\r\n\r\nconst local_wsmanager_webservice_nav_title = (webserviceid) => {\r\n    return fetchMany([{\r\n        methodname: 'local_wsmanager_webservice_nav_title',\r\n        args: {\r\n            webserviceid: webserviceid,\r\n        },\r\n    }])[0]\r\n        .then(function (response) {\r\n            jQuery('#local_wsmanager_tab_link_webservice_' + webserviceid).html(response);\r\n        });\r\n};\r\n\r\nconst local_wsmanager_users_table_output = (webserviceid) => {\r\n    return fetchMany([{\r\n        methodname: 'local_wsmanager_webservice_users_table_output',\r\n        args: {\r\n            webserviceid: webserviceid,\r\n        },\r\n    }])[0].then(function (res) {\r\n        jQuery('#local_wsmanager_webservice_users_table_' + webserviceid).html(res);\r\n    });\r\n};\r\n\r\nconst local_wsmanager_webservice_functions_get_params = (webserviceid, functionname, sep1, sep2, sep3, sep4) => {\r\n    var ret = '';\r\n    jQuery('[id*=\"local_wsmanager_ws_fn_param_' + webserviceid + '_' + functionname + '\"]').each(function () {\r\n        var $this = jQuery(this),\r\n            arr = $this.attr('id').replace('local_wsmanager_ws_fn_param_' + webserviceid + '_' + functionname, '').split('_');\r\n        ret += webserviceid + sep1 + functionname + sep1 + arr[1] + sep1 + $this.val() + sep4;\r\n    });\r\n    return ret;\r\n};\r\n\r\nconst local_wsmanager_request_info = (webserviceid, functionname, params, method, protocol, restformat, token) => {\r\n    if (!method) {\r\n        method = jQuery('#local_wsmanager_external_function_handle_method_' + webserviceid + '_' +\r\n            functionname + ' select').val();\r\n    }\r\n    if (!protocol) {\r\n        protocol = jQuery('#local_wsmanager_external_function_handle_protocol_' + webserviceid + '_' +\r\n            functionname + ' select').val();\r\n    }\r\n    if (!restformat) {\r\n        restformat = jQuery('#local_wsmanager_external_function_handle_restformat_' + webserviceid + '_' +\r\n            functionname + ' select').val();\r\n    }\r\n    if (!token) {\r\n        token = jQuery('#local_wsmanager_external_function_handle_token_' + webserviceid + '_' + functionname +\r\n            ' select option:selected').text();\r\n    }\r\n    return fetchMany([{\r\n        methodname: 'local_wsmanager_request_info',\r\n        args: {\r\n            webserviceid: webserviceid,\r\n            functionname: functionname,\r\n            params: params,\r\n            method: method,\r\n            protocol: protocol,\r\n            restformat: restformat,\r\n            token: token,\r\n        },\r\n    }])[0].then(function (res) {\r\n        jQuery('#local_wsmanager_request_info_' + webserviceid + '_' + functionname).html(res);\r\n    });\r\n};\r\n\r\nconst local_wsmanager_external_function_handle_output = (functionname, webserviceid) => {\r\n    return fetchMany([{\r\n        methodname: 'local_wsmanager_external_function_handle_output',\r\n        args: {\r\n            functionname: functionname,\r\n            webserviceid: webserviceid,\r\n        },\r\n    }])[0].then(function (res) {\r\n        return res;\r\n    });\r\n};\r\n\r\nexport const init = async (sep1, sep2, sep3, sep4) => {\r\n    jQuery('body')\r\n        .on('change', '[data-switch=\"webservice\"]', function (event) {\r\n            var $this = jQuery(this),\r\n                webserviceid = parseInt($this.data('webserviceid')),\r\n                instance = $this.data('instance'),\r\n                name = $this.data('name');\r\n            //disable\r\n            if (!$this.is(':checked')) {\r\n                ModalFactory.create({\r\n                    type: ModalFactory.types.SAVE_CANCEL,\r\n                    title: M.str.moodle.disable,\r\n                    body: M.str.moodle.disable + '<strong>' + name + '</strong><br>' + M.str.moodle.areyousure,\r\n                }).then((modal) => {\r\n                    let root = modal.getRoot();\r\n                    modal.setButtonText('save', M.str.moodle.disable);\r\n                    root.on(ModalEvents.save, function (e) {\r\n                        e.preventDefault();\r\n                        fetchMany([{\r\n                            methodname: 'local_wsmanager_webservice_state_switch',\r\n                            args: {\r\n                                webserviceid: webserviceid,\r\n                                instance: instance\r\n                            },\r\n                        }])[0].then(function (response) {\r\n                            switch (instance) {\r\n                                case 'restrictedusers':\r\n                                    local_wsmanager_users_table_output(webserviceid);\r\n                                    break;\r\n                                case 'enabled':\r\n                                    local_wsmanager_webservice_nav_title(webserviceid);\r\n                                    jQuery('#local_wsmanager_webservice_row_' + webserviceid)\r\n                                        .addClass('local_wsmanager_webservice_row_danger');\r\n                                    jQuery('#local_wsmanager_webservice_name_' + webserviceid).attr('disabled', true);\r\n                                    break;\r\n                            }\r\n                        });\r\n                        modal.hide();\r\n                    });\r\n                    root.on(ModalEvents.cancel, function () {\r\n                        $this.prop('checked', true);\r\n                        modal.hide();\r\n                    });\r\n                    modal.show();\r\n                });\r\n            } else {\r\n                //enable\r\n                fetchMany([{\r\n                    methodname: 'local_wsmanager_webservice_state_switch',\r\n                    args: {\r\n                        webserviceid: webserviceid,\r\n                        instance: instance\r\n                    },\r\n                }])[0].then(function (response) {\r\n                    switch (instance) {\r\n                        case 'restrictedusers':\r\n                            local_wsmanager_users_table_output(webserviceid);\r\n                            break;\r\n                        case 'enabled':\r\n                            local_wsmanager_webservice_nav_title(webserviceid);\r\n                            jQuery('#local_wsmanager_webservice_row_' + webserviceid)\r\n                                .removeClass('local_wsmanager_webservice_row_danger');\r\n                            jQuery('#local_wsmanager_webservice_name_' + webserviceid).attr('disabled', false);\r\n                            break;\r\n                    }\r\n                });\r\n            }\r\n            return false;\r\n        })\r\n        .on('click', '.local_wsmanager_external_function_handle_wrapper', function (event) {\r\n            var $this = jQuery(this),\r\n                webserviceid = parseInt($this.data('webserviceid')),\r\n                functionname = $this.data('functionname');\r\n            event.preventDefault();\r\n            ModalFactory.create({\r\n                type: ModalFactory.types.DEFAULT,\r\n                large: true,\r\n                title: M.str.local_wsmanager.test,\r\n                body: local_wsmanager_external_function_handle_output(\r\n                    functionname,\r\n                    webserviceid\r\n                ),\r\n            }).then(function (modal) {\r\n                modal.show();\r\n            });\r\n            return false;\r\n        })\r\n        .on('change', '.local_wsmanager_external_function_handle_select select', function (event) {\r\n            event.preventDefault();\r\n            var $this = jQuery(this),\r\n                parent = $this.closest('.local_wsmanager_external_function_handle_select'),\r\n                webserviceid = parseInt(parent.data('webserviceid')),\r\n                functionname = parent.data('functionname'),\r\n                params = local_wsmanager_webservice_functions_get_params(webserviceid, functionname, sep1, sep2, sep3, sep4),\r\n                method = jQuery('#local_wsmanager_external_function_handle_method_' + webserviceid + '_' + functionname + ' select').val(),\r\n                protocol = jQuery('#local_wsmanager_external_function_handle_protocol_' + webserviceid + '_' + functionname + ' select').val(),\r\n                restformat = jQuery('#local_wsmanager_external_function_handle_restformat_' + webserviceid + '_' + functionname + ' select').val(),\r\n                token = jQuery('#local_wsmanager_external_function_handle_token_' + webserviceid + '_' + functionname + ' select option:selected').text(),\r\n                instance = parent.data('instance');\r\n            switch (instance) {\r\n                case 'protocol':\r\n                    if ($this.val() != 'rest') {\r\n                        jQuery('#local_wsmanager_external_function_handle_restformat_row_' + webserviceid + '_' + functionname).hide();\r\n                    } else {\r\n                        jQuery('#local_wsmanager_external_function_handle_restformat_row_' + webserviceid + '_' + functionname).show();\r\n                    }\r\n                    break;\r\n            }\r\n            return local_wsmanager_request_info(webserviceid, functionname, params, method, protocol, restformat, token);\r\n        })\r\n        .on('blur', '.local_wsmanager_webservice_function_param_value input,' +\r\n            '.local_wsmanager_webservice_function_param_value textarea', function (event) {\r\n            event.preventDefault();\r\n            var $this = jQuery(this),\r\n                parent = $this.closest('.local_wsmanager_webservice_function_param_value'),\r\n                webserviceid = parseInt(parent.data('webserviceid')),\r\n                functionname = parent.data('functionname'),\r\n                params = local_wsmanager_webservice_functions_get_params(webserviceid, functionname, sep1, sep2, sep3, sep4),\r\n                method = jQuery('#local_wsmanager_external_function_handle_method_' + webserviceid + '_' + functionname + ' select').val(),\r\n                protocol = jQuery('#local_wsmanager_external_function_handle_protocol_' + webserviceid + '_' + functionname + ' select').val(),\r\n                restformat = jQuery('#local_wsmanager_external_function_handle_restformat_' + webserviceid + '_' + functionname + ' select').val(),\r\n                token = jQuery('#local_wsmanager_external_function_handle_token_' + webserviceid + '_' + functionname + ' select option:selected').text();\r\n            return local_wsmanager_request_info(webserviceid, functionname, params, method, protocol, restformat, token);\r\n        })\r\n        .on('click', '.local_wsmanager_external_function_handle', function (event) {\r\n            event.preventDefault();\r\n            var $this = jQuery(this),\r\n                webserviceid = parseInt($this.data('webserviceid')),\r\n                functionname = $this.data('functionname'),\r\n                token = jQuery('#local_wsmanager_external_function_handle_token_' + webserviceid + '_' +\r\n                    functionname + ' select option:selected').text(),\r\n                params = local_wsmanager_webservice_functions_get_params(webserviceid, functionname, sep1, sep2, sep3, sep4),\r\n                method = jQuery('#local_wsmanager_external_function_handle_method_' + webserviceid + '_' +\r\n                    functionname + ' select').val(),\r\n                protocol = jQuery('#local_wsmanager_external_function_handle_protocol_' + webserviceid + '_' +\r\n                    functionname + ' select').val(),\r\n                restformat = jQuery('#local_wsmanager_external_function_handle_restformat_' + webserviceid + '_' +\r\n                    functionname + ' select').val();\r\n            ModalFactory.create({\r\n                type: ModalFactory.types.SAVE_CANCEL,\r\n                title: M.str.webservice.execute,\r\n                body: M.str.webservice.execute + ' <strong>' + functionname + '</strong><br />' +\r\n                    M.str.moodle.areyousure,\r\n            }).then(function (modal) {\r\n                let root = modal.getRoot();\r\n                modal.setButtonText('save', M.str.moodle.yes);\r\n                root.on(ModalEvents.save, function (e) {\r\n                    e.preventDefault();\r\n                    fetchMany([{\r\n                        methodname: 'local_wsmanager_external_function_handle',\r\n                        args: {\r\n                            webserviceid: webserviceid,\r\n                            functionname: functionname,\r\n                            token: token,\r\n                            params: params,\r\n                            method: method,\r\n                            moodlewsprotocol: protocol,\r\n                            moodlewsrestformat: restformat\r\n                        },\r\n                    }])[0]\r\n                        .then(function (res) {\r\n                            jQuery('#local_wsmanager_external_function_handle_response_content_' + webserviceid + '_' + functionname).html(res);\r\n                            jQuery('#local_wsmanager_external_function_handle_response_' + webserviceid + '_' + functionname).show();\r\n                        });\r\n                    modal.hide();\r\n                });\r\n                root.on(ModalEvents.cancel, function () {\r\n                    modal.hide();\r\n                });\r\n                modal.show();\r\n            });\r\n            return false;\r\n        })\r\n        .on('click', '.local_wsmanager_webservice_name_update', function (event) {\r\n            event.preventDefault();\r\n            var $this = jQuery(this),\r\n                webserviceid = parseInt($this.data('webserviceid')),\r\n                name = jQuery('#local_wsmanager_webservice_name_' + webserviceid).val();\r\n            fetchMany([{\r\n                methodname: 'local_wsmanager_webservice_rename',\r\n                args: {\r\n                    webserviceid: webserviceid,\r\n                    name: name\r\n                },\r\n            }])[0].then(function (res) {\r\n                ModalFactory.create({\r\n                    type: ModalFactory.types.DEFAULT,\r\n                    title: M.str.moodle.summary,\r\n                    body: res ? M.str.moodle.success : M.str.moodle.error,\r\n                }).then(function (modal) {\r\n                    let root = modal.getRoot();\r\n                    root.on(ModalEvents.cancel, function () {\r\n                        modal.hide();\r\n                    });\r\n                    modal.show();\r\n                    if (res) {\r\n                        jQuery('#local_wsmanager_tab_link_webservice_' + webserviceid).html(name);\r\n                    }\r\n                });\r\n            });\r\n            return false;\r\n        });\r\n};"],"names":["local_wsmanager_webservice_nav_title","webserviceid","methodname","args","then","response","html","local_wsmanager_users_table_output","res","local_wsmanager_webservice_functions_get_params","functionname","sep1","sep2","sep3","sep4","ret","each","$this","this","arr","attr","replace","split","val","local_wsmanager_request_info","params","method","protocol","restformat","token","text","local_wsmanager_external_function_handle_output","async","on","event","parseInt","data","instance","name","is","removeClass","create","type","ModalFactory","types","SAVE_CANCEL","title","M","str","moodle","disable","body","areyousure","modal","root","getRoot","setButtonText","ModalEvents","save","e","preventDefault","addClass","hide","cancel","prop","show","DEFAULT","large","local_wsmanager","test","parent","closest","webservice","execute","yes","moodlewsprotocol","moodlewsrestformat","summary","success","error"],"mappings":"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"}