{{!
    This file is part of Moodle - http://moodle.org/
    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.
    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_wsmanager/webservices
    Webservices page
}}
<div class="data-registry">
    {{{info}}}
    {{^errors}}
        <div class="container-fluid mt-2">
            <div class="alert alert-secondary alert-block fade in">
                <a href="{{ globals.config.wwwroot }}/{{ admin }}/settings.php?section=local_wsmanager_dashboard"
                   class="btn btn-link" title="{{#str}} dashboard, local_wsmanager {{/str}}">{{#pix}}
                    i/home, core {{/pix}} {{#str}} dashboard, local_wsmanager {{/str}}</a>
                <a href="javascript:;" class="btn btn-link" id="local_wsmanager_create_webservice_form_show"
                   title="{{#str}} addaservice, webservice {{/str}}">{{#pix}}
                    t/add, core {{/pix}} {{#str}} addaservice, webservice {{/str}}</a>
            </div>
            <div class="row">
                <div class="col-md-4 pl-0 nav-pills" style="overflow-y:scroll">
                    <div role="tablist">
                        {{#services}}
                            <div class="mb-3">
                                <h3>{{ title }}</h3>
                                {{#items}}
                                    <div class="mb-2">
                                        <strong>
                                            <a href="javascript:;"
                                               class="nav-link local_wsmanager_tab_link{{#active}} active{{/active}}"
                                               data-webserviceid="{{ webserviceid }}"
                                               title="{{ name }}{{^enabled}} [{{#str}} off, mnet {{/str}}]{{/enabled}}">
                                                <i class="fa fa-cube"></i>&nbsp;<span
                                                    id="local_wsmanager_tab_link_webservice_{{ webserviceid }}">{{{ text }}}</span>
                                            </a>
                                        </strong>
                                    </div>
                                {{/items}}
                            </div>
                        {{/services}}
                    </div>
                </div>
                <div class="col-md-8">
                    <div id="local_wsmanager_create_webservice_form" style="display:none">
                        <div class="local_wsmanager_bordered">
                            <h3>{{#str}} addaservice, webservice {{/str}}</h3>
                            {{{ create_webservice_form }}}
                        </div>
                    </div>
                    {{#services}}
                        {{#output}}
                            <div class="local_wsmanager_webservice_data_output"
                                 id="local_wsmanager_webservice_data_output_{{ webserviceid }}"
                                {{^active}} style="display:none"{{/active}}>
                                {{{ settings }}}
                            </div>
                        {{/output}}
                    {{/services}}
                </div>
            </div>
        </div>
    {{/errors}}
</div>